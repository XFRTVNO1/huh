<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏£‡∏±‡∏Å</title>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --pink:#ff5ca2;
    --deep:#b21f58;
    --muted:#6b6b6b;
    --bg1:#ffe6eb;
    --bg2:#f3e6ff;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Prompt,system-ui,-apple-system,Segoe UI,Roboto,Arial}
  body{
    background:linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;align-items:center;justify-content:center;overflow:hidden;
  }

  /* Card / gate */
  .card{background:rgba(255,255,255,.92);backdrop-filter:blur(8px);border-radius:18px;padding:26px;box-shadow:0 18px 60px rgba(0,0,0,.12);max-width:720px;width:92%;text-align:center}
  h1{margin:0;font-size:22px;color:var(--deep)}
  p.muted{color:var(--muted);margin-top:8px}
  input[type=text]{width:100%;padding:12px;border-radius:12px;border:1px solid #f0dfe6;font-size:16px;margin-top:14px;text-align:center}
  button.btn{margin-top:14px;padding:12px 20px;border-radius:12px;background:var(--pink);color:#fff;border:0;cursor:pointer;font-weight:700}
  .error{color:#d6336c;margin-top:10px;font-weight:700}
  .messages{margin-top:22px;max-height:60vh;overflow:auto;padding-right:8px}
  .msg{font-size:20px;color:var(--deep);font-weight:800;margin:10px 0;opacity:0;transform:translateY(8px);transition:all .45s ease}
  .msg.show{opacity:1;transform:translateY(0)}

  /* shake */
  .shake{animation:shake 520ms cubic-bezier(.36,.07,.19,.97) both}
  @keyframes shake{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}}

  /* FX global appended */
  .fx-heart{position:fixed;top:-8vh;user-select:none;pointer-events:none;color:#ff4d88;animation:fall linear forwards}
  @keyframes fall{0%{transform:translateY(-10vh) rotate(0);opacity:0}10%{opacity:1}100%{transform:translateY(110vh) rotate(360deg);opacity:0}}
  .fx-confetti{position:fixed;top:-5vh;user-select:none;pointer-events:none;border-radius:3px;background:linear-gradient(180deg,#ff7ca3,#c7b9ff);animation:confetti linear forwards}
  @keyframes confetti{to{transform:translateY(115vh) rotate(720deg);opacity:.9}}
  .fx-burst{position:fixed;left:50%;top:45%;transform:translate(-50%,-50%);user-select:none;pointer-events:none;animation:burst 1.05s ease-out forwards}
  @keyframes burst{0%{opacity:0;transform:translate(-50%,-50%) scale(.2)}60%{opacity:1}100%{opacity:0;transform:translate(calc(-50% + var(--tx,0px)),calc(-50% + var(--ty,0px))) scale(1.2)}}

  /* Loading screen */
  .loading-wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px;padding:30px}
  .spinner{width:84px;height:84px;border-radius:50%;position:relative}
  .spinner:before,.spinner:after{content:'';position:absolute;inset:0;border-radius:50%}
  .spinner:before{box-shadow:0 4px 24px rgba(178,31,88,.12);background:conic-gradient(var(--pink), #ffd6ec, #c7b9ff);}
  .progress{width:220px;height:10px;border-radius:999px;background:rgba(255,255,255,.6);overflow:hidden;box-shadow:inset 0 -2px 6px rgba(0,0,0,.04)}
  .progress > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--pink),#ffd6ec);transition:width .25s linear}

  /* Responsive */
  @media (max-width:480px){.card{padding:18px}}
</style>
</head>
<body>
  <!-- Stage: Gate -->
  <main id="gate" class="card" role="main" aria-labelledby="title">
    <h1 id="title">‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö</h1>
    <p class="muted">‡∏Å‡∏£‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î \"‡πÄ‡∏õ‡∏¥‡∏î\" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå</p>

    <input id="codeInput" type="text" inputmode="numeric" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤" aria-label="‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö" />
    <button id="openBtn" class="btn" aria-controls="loading">‡πÄ‡∏õ‡∏¥‡∏î</button>
    <div id="error" class="error" role="alert" aria-live="assertive" style="display:none"></div>
  </main>

  <!-- Stage: Loading (hidden initially) -->
  <main id="loading" class="card" style="display:none">
    <div class="loading-wrap" aria-live="polite">
      <div class="spinner" aria-hidden="true"></div>
      <div style="text-align:center">
        <div style="font-weight:800;color:var(--deep);font-size:18px">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç...</div>
        <div style="color:var(--muted);margin-top:6px">‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏°‡∏µ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡πÇ‡∏ú‡∏•‡πà</div>
      </div>
      <div class="progress" aria-hidden="true" style="margin-top:6px">
        <i id="progressBar" style="width:0%"></i>
      </div>
    </div>
  </main>

  <!-- Stage: Reveal (hidden initially) -->
  <main id="reveal" class="card" style="display:none;max-height:90vh;overflow:auto">
    <h1 style="font-size:24px;margin:0;color:var(--deep)">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡πÉ‡∏à</h1>
    <p class="muted" style="margin-top:8px">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© ‚Äî ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∞‡πÇ‡∏ú‡∏•‡πà‡∏°‡∏≤‡∏ó‡∏µ‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î</p>
    <div id="messages" class="messages" aria-live="polite" style="margin-top:16px"></div>
    <div style="margin-top:18px;display:flex;gap:8px;justify-content:center">
      <button id="replayBtn" class="btn" style="background:#7c3aed">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
      <button id="backBtn" class="btn" style="background:#6b7280">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏≠‡∏Å</button>
    </div>
  </main>

<script>
(function(){
  // SECRET is stored here (not shown in UI). It will be matched after normalization.
  const SECRET = '20/7/68';

  // Messages to reveal (edit as needed)
  const MESSAGES = [
    "üíñ ‡∏£‡∏±‡∏Å‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏•‡∏¢ üíñ",
    "‚ú® ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ ‚ú®",
    "üåπ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤ üåπ",
    "üíï ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏ò‡∏≠ üíï",
    "üí´ ‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÄ‡∏£‡∏≤ üí´",
    "üåà ‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏™‡∏î‡πÉ‡∏™ üåà",
    "ü•∞ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏±‡∏ß‡πÉ‡∏à ü•∞",
    "üíç ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏à‡∏∞‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ üíç",
    "üé∂ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏ô‡∏µ‡πâ‡πÄ‡∏ï‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ò‡∏≠‡πÄ‡∏™‡∏°‡∏≠ üé∂",
    "üå∏ ‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏±‡∏ö‡πÄ‡∏ò‡∏≠‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÄ‡∏™‡∏°‡∏≠ üå∏",
    "üåª ‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏¢‡∏¥‡πâ‡∏°‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÄ‡∏ä‡πâ‡∏≤ üåª",
    "üî• ‡∏£‡∏±‡∏Å‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏à‡∏≤‡∏á‡∏´‡∏≤‡∏¢ üî•",
    "üíå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ò‡∏≠‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô üíå",
    "üåô ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á üåô",
    "üåü ‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ù‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô üåü",
    "üåä ‡∏≠‡∏¢‡∏≤‡∏Å‡∏û‡∏≤‡πÄ‡∏ò‡∏≠‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà‡∏ö‡∏ô‡πÇ‡∏•‡∏Å‡∏ô‡∏µ‡πâ üåä",
    "üçÄ ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏ò‡∏≠‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ô‡∏µ‡πâ üçÄ",
    "üå∫ ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏û‡∏π‡∏î‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î üå∫",
    "üïäÔ∏è ‡∏à‡∏∞‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡πÄ‡∏ò‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ üïäÔ∏è",
    "üíû ‡πÅ‡∏Ñ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô üíû"
  ];

  const gate = document.getElementById('gate');
  const loading = document.getElementById('loading');
  const reveal = document.getElementById('reveal');
  const input = document.getElementById('codeInput');
  const btn = document.getElementById('openBtn');
  const err = document.getElementById('error');
  const messagesWrap = document.getElementById('messages');
  const progressBar = document.getElementById('progressBar');
  const replayBtn = document.getElementById('replayBtn');
  const backBtn = document.getElementById('backBtn');

  let heartsInterval = null;
  let confettiInterval = null;

  // create ambient hearts
  function createHeart(){
    const h = document.createElement('div');
    h.className = 'fx-heart';
    h.textContent = Math.random() > 0.5 ? '‚ù§' : 'üíñ';
    h.style.left = Math.random()*100 + 'vw';
    h.style.fontSize = (12 + Math.random()*24) + 'px';
    h.style.animationDuration = (4 + Math.random()*4) + 's';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),9000);
  }
  function startHearts(){ if(!heartsInterval) heartsInterval = setInterval(createHeart,420); }
  function stopHearts(){ if(heartsInterval){ clearInterval(heartsInterval); heartsInterval = null; } }

  // confetti effect
  function createConfetti(){
    for(let i=0;i<10;i++){
      const c = document.createElement('div');
      c.className = 'fx-confetti';
      c.style.left = Math.random()*100 + 'vw';
      c.style.width = (6 + Math.random()*8) + 'px';
      c.style.height = (10 + Math.random()*12) + 'px';
      c.style.transform = 'rotate(' + (Math.random()*360) + 'deg)';
      c.style.animationDuration = (4 + Math.random()*4) + 's';
      document.body.appendChild(c);
      setTimeout(()=>c.remove(),9000);
    }
  }
  function startConfetti(){ if(!confettiInterval) confettiInterval = setInterval(createConfetti,550); }
  function stopConfetti(){ if(confettiInterval){ clearInterval(confettiInterval); confettiInterval = null; } }

  // burst
  function burst(n=24){
    for(let i=0;i<n;i++){
      const s = document.createElement('span');
      s.className = 'fx-burst';
      s.textContent = '‚ú¶';
      s.style.left = '50%'; s.style.top = '45%';
      s.style.setProperty('--tx', (Math.random()*400-200) + 'px');
      s.style.setProperty('--ty', (Math.random()*300-150) + 'px');
      document.body.appendChild(s); setTimeout(()=>s.remove(),1200);
    }
  }

  // normalize input codes such as 20-7-68, 20/07/2568 to form d/m/yy
  function normalizeCode(s){
    if(!s) return '';
    s = String(s).trim();
    s = s.replace(/\s+/g,'');
    s = s.replace(/-/g,'/');
    const parts = s.split('/');
    if(parts.length < 3) return s.toLowerCase();
    const d = parseInt(parts[0],10);
    const m = parseInt(parts[1],10);
    let y = parseInt(parts[2],10);
    if(isNaN(d) || isNaN(m) || isNaN(y)) return s.toLowerCase();
    y = y % 100;
    return d + '/' + m + '/' + y;
  }

  // UI helpers
  function shakeCard(){
    gate.classList.remove('shake');
    void gate.offsetWidth;
    gate.classList.add('shake');
    setTimeout(()=>gate.classList.remove('shake'),520);
  }

  function revealAllMessages(){
    messagesWrap.innerHTML = '';
    let delay = 300;
    stopHearts(); startConfetti();
    MESSAGES.forEach((m,i)=>{
      setTimeout(()=>{
        const div = document.createElement('div');
        div.className = 'msg show';
        div.textContent = m;
        messagesWrap.appendChild(div);
        messagesWrap.scrollTop = messagesWrap.scrollHeight;
        burst(14);
      }, delay);
      delay += 800;
    });
  }

  // Start ambient hearts immediately
  startHearts();

  // Handle open click
  function handleOpen(){
    err.style.display='none'; err.textContent='';
    const normInput = normalizeCode(input.value);
    const normSecret = normalizeCode(SECRET);
    if(normInput !== normSecret){
      err.style.display='block'; err.textContent='‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á';
      shakeCard();
      return;
    }

    // correct: move to loading stage
    gate.style.display = 'none';
    loading.style.display = '';
    progressBar.style.width = '0%';

    // simulate loading progress (visual)
    let p = 0;
    const interval = setInterval(()=>{
      p += 6 + Math.random()*10; // random increments
      if(p >= 100) p = 100;
      progressBar.style.width = p + '%';
    }, 250);

    // after a short loading, go to reveal page
    setTimeout(()=>{
      clearInterval(interval);
      progressBar.style.width = '100%';
      loading.style.display = 'none';
      reveal.style.display = '';
      // start confetti and reveal messages
      revealAllMessages();
    }, 2800); // adjust loading duration (ms) if desired
  }

  btn.addEventListener('click', handleOpen);
  input.addEventListener('keydown', function(e){ if(e.key === 'Enter') handleOpen(); });

  // replay and back
  replayBtn.addEventListener('click', function(){
    messagesWrap.innerHTML = '';
    revealAllMessages();
  });
  backBtn.addEventListener('click', function(){
    // stop confetti & show gate again
    stopConfetti();
    startHearts();
    reveal.style.display = 'none';
    gate.style.display = '';
    input.value = '';
    err.style.display = 'none';
    messagesWrap.innerHTML = '';
  });

  // cleanup on unload
  window.addEventListener('beforeunload', function(){ stopHearts(); stopConfetti(); });

})();
</script>
</body>
</html>
